USE gymdb;
#DROP TABLE `MEMBER`;
#DROP TABLE `WORKOUTLOG`;
#DROP TABLE `EXERCISE`;

CREATE TABLE `MEMBER`
(
	`MEM_ID` INT NOT NULL COMMENT '회원ID',
    `MEM_NM` VARCHAR(20) NOT NULL COMMENT '회원이름',
    `MEM_DATE` DATE COMMENT '가입일',
	PRIMARY KEY (MEM_ID)
);
INSERT INTO MEMBER(MEM_ID, MEM_NM, MEM_DATE)VALUES (100, '테스트', STR_TO_DATE('25/01/01', '%y/%m/%d'));
INSERT INTO MEMBER(MEM_ID, MEM_NM, MEM_DATE)VALUES (101, '김동일', STR_TO_DATE('25/05/06', '%y/%m/%d'));
INSERT INTO MEMBER(MEM_ID, MEM_NM, MEM_DATE)VALUES (102, '김종기', STR_TO_DATE('25/06/06', '%y/%m/%d'));
INSERT INTO MEMBER(MEM_ID, MEM_NM, MEM_DATE)VALUES (103, '김옹철', STR_TO_DATE('25/06/06', '%y/%m/%d'));
INSERT INTO MEMBER(MEM_ID, MEM_NM, MEM_DATE)VALUES (104, '김은희', STR_TO_DATE('25/06/06', '%y/%m/%d'));
INSERT INTO MEMBER(MEM_ID, MEM_NM, MEM_DATE)VALUES (105, '김재식', STR_TO_DATE('25/06/06', '%y/%m/%d'));
INSERT INTO MEMBER(MEM_ID, MEM_NM, MEM_DATE)VALUES (106, '김중하', STR_TO_DATE('25/06/06', '%y/%m/%d'));
INSERT INTO MEMBER(MEM_ID, MEM_NM, MEM_DATE)VALUES (107, '김이유', STR_TO_DATE('25/06/06', '%y/%m/%d'));
INSERT INTO MEMBER(MEM_ID, MEM_NM, MEM_DATE)VALUES (108, '김나라', STR_TO_DATE('25/06/06', '%y/%m/%d'));
INSERT INTO MEMBER(MEM_ID, MEM_NM, MEM_DATE)VALUES (109, '김스트', STR_TO_DATE('25/06/06', '%y/%m/%d'));
INSERT INTO MEMBER(MEM_ID, MEM_NM, MEM_DATE)VALUES (110, '홍정훈', STR_TO_DATE('25/06/06', '%y/%m/%d'));


CREATE TABLE `WORKOUTLOG`
(
	`MEM_ID` INT NOT NULL COMMENT '회원ID',
    `LOG_ID` INT NOT NULL COMMENT '로그ID',
    `LOG_DATE` DATE COMMENT '운동일',
    `LOG_INTIME` TIME COMMENT '입실시간',
    `LOG_OUTTIME` TIME COMMENT '퇴실시간',
	PRIMARY KEY (LOG_ID),
    FOREIGN KEY (MEM_ID) REFERENCES MEMBER (MEM_ID)
    ON UPDATE CASCADE
    ON DELETE CASCADE

);
INSERT INTO WORKOUTLOG(MEM_ID,LOG_ID,LOG_DATE,LOG_INTIME,LOG_OUTTIME)VALUES (100, 001, STR_TO_DATE('25/08/07', '%y/%m/%d'), '10:00:00', '11:00:00');
INSERT INTO WORKOUTLOG(MEM_ID,LOG_ID,LOG_DATE,LOG_INTIME,LOG_OUTTIME)VALUES (100, 002, STR_TO_DATE('25/08/08', '%y/%m/%d'), '10:00:00', '11:00:00');
INSERT INTO WORKOUTLOG(MEM_ID,LOG_ID,LOG_DATE,LOG_INTIME,LOG_OUTTIME)VALUES (101, 003, STR_TO_DATE('25/08/07', '%y/%m/%d'), '15:00:00', '16:00:00');
INSERT INTO WORKOUTLOG(MEM_ID,LOG_ID,LOG_DATE,LOG_INTIME,LOG_OUTTIME)VALUES (102, 004, STR_TO_DATE('25/08/07', '%y/%m/%d'), '21:00:00', '22:00:00');
INSERT INTO WORKOUTLOG(MEM_ID,LOG_ID,LOG_DATE,LOG_INTIME,LOG_OUTTIME)VALUES (103, 005, STR_TO_DATE('25/08/07', '%y/%m/%d'), '21:00:00', '22:00:00');
INSERT INTO WORKOUTLOG(MEM_ID,LOG_ID,LOG_DATE,LOG_INTIME,LOG_OUTTIME)VALUES (104, 006, STR_TO_DATE('25/08/07', '%y/%m/%d'), '21:00:00', '22:00:00');
INSERT INTO WORKOUTLOG(MEM_ID,LOG_ID,LOG_DATE,LOG_INTIME,LOG_OUTTIME)VALUES (105, 007, STR_TO_DATE('25/08/07', '%y/%m/%d'), '21:00:00', '22:00:00');
INSERT INTO WORKOUTLOG(MEM_ID,LOG_ID,LOG_DATE,LOG_INTIME,LOG_OUTTIME)VALUES (106, 008, STR_TO_DATE('25/08/07', '%y/%m/%d'), '21:00:00', '22:00:00');
INSERT INTO WORKOUTLOG(MEM_ID,LOG_ID,LOG_DATE,LOG_INTIME,LOG_OUTTIME)VALUES (107, 009, STR_TO_DATE('25/08/07', '%y/%m/%d'), '21:00:00', '22:00:00');
INSERT INTO WORKOUTLOG(MEM_ID,LOG_ID,LOG_DATE,LOG_INTIME,LOG_OUTTIME)VALUES (108, 010, STR_TO_DATE('25/08/07', '%y/%m/%d'), '21:00:00', '22:00:00');
INSERT INTO WORKOUTLOG(MEM_ID,LOG_ID,LOG_DATE,LOG_INTIME,LOG_OUTTIME)VALUES (109, 011, STR_TO_DATE('25/08/07', '%y/%m/%d'), '21:00:00', '22:00:00');
INSERT INTO WORKOUTLOG(MEM_ID,LOG_ID,LOG_DATE,LOG_INTIME,LOG_OUTTIME)VALUES (110, 012, STR_TO_DATE('25/08/06', '%y/%m/%d'), '21:00:00', '22:00:00');
INSERT INTO WORKOUTLOG(MEM_ID,LOG_ID,LOG_DATE,LOG_INTIME,LOG_OUTTIME)VALUES (110, 013, STR_TO_DATE('25/08/07', '%y/%m/%d'), '21:00:00', '22:00:00');
INSERT INTO WORKOUTLOG(MEM_ID,LOG_ID,LOG_DATE,LOG_INTIME,LOG_OUTTIME)VALUES (110, 014, STR_TO_DATE('25/08/08', '%y/%m/%d'), '21:00:00', '22:00:00');
INSERT INTO WORKOUTLOG(MEM_ID,LOG_ID,LOG_DATE,LOG_INTIME,LOG_OUTTIME)VALUES (110, 015, STR_TO_DATE('25/08/09', '%y/%m/%d'), '21:00:00', '22:00:00');
INSERT INTO WORKOUTLOG(MEM_ID,LOG_ID,LOG_DATE,LOG_INTIME,LOG_OUTTIME)VALUES (110, 016, STR_TO_DATE('25/08/10', '%y/%m/%d'), '21:00:00', '22:00:00');
INSERT INTO WORKOUTLOG(MEM_ID,LOG_ID,LOG_DATE,LOG_INTIME,LOG_OUTTIME)VALUES (110, 017, STR_TO_DATE('25/08/11', '%y/%m/%d'), '21:00:00', '22:00:00');

CREATE TABLE `EXERCISE`
(
	`LOG_ID` INT NOT NULL COMMENT '로그ID',
    `EXR_ID` INT NOT NULL COMMENT '운동ID',
    `EXR_nm` VARCHAR(20) COMMENT '운동이름',
    `EXR_SET` INT COMMENT '세트',
    `EXR_CNT` INT COMMENT '횟수',
	PRIMARY KEY (EXR_ID),
    FOREIGN KEY (LOG_ID) REFERENCES WORKOUTLOG (LOG_ID)
	ON UPDATE CASCADE
    ON DELETE CASCADE
);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_SET,EXR_CNT)VALUES(001,1,5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_SET,EXR_CNT)VALUES(001,2,5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_SET,EXR_CNT)VALUES(001,3,5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_SET,EXR_CNT)VALUES(002,4,5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_SET,EXR_CNT)VALUES(002,5,5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_SET,EXR_CNT)VALUES(003,6,5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_SET,EXR_CNT)VALUES(003,7,5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_SET,EXR_CNT)VALUES(003,8,5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_SET,EXR_CNT)VALUES(004,9,5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_SET,EXR_CNT)VALUES(004,10,5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_SET,EXR_CNT)VALUES(004,11,5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_SET,EXR_CNT)VALUES(005,12,5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_SET,EXR_CNT)VALUES(005,13,5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_nm,EXR_SET,EXR_CNT)VALUES(001,13,'팔굽혀펴기',5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_nm,EXR_SET,EXR_CNT)VALUES(002,14,'팔굽혀펴기',5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_nm,EXR_SET,EXR_CNT)VALUES(003,15,'팔굽혀펴기',5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_nm,EXR_SET,EXR_CNT)VALUES(004,16,'팔굽혀펴기',5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_nm,EXR_SET,EXR_CNT)VALUES(005,17,'팔굽혀펴기',5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_nm,EXR_SET,EXR_CNT)VALUES(005,18,'팔굽혀펴기',5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_nm,EXR_SET,EXR_CNT)VALUES(006,19,'팔굽혀펴기',5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_nm,EXR_SET,EXR_CNT)VALUES(008,20,'팔굽혀펴기',5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_nm,EXR_SET,EXR_CNT)VALUES(008,20,'팔굽혀펴기',5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_nm,EXR_SET,EXR_CNT)VALUES(008,20,'팔굽혀펴기',5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_nm,EXR_SET,EXR_CNT)VALUES(008,20,'팔굽혀펴기',5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_nm,EXR_SET,EXR_CNT)VALUES(009,21,'팔굽혀펴기',5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_nm,EXR_SET,EXR_CNT)VALUES(010,22,'팔굽혀펴기',5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_nm,EXR_SET,EXR_CNT)VALUES(011,23,'팔굽혀펴기',5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_nm,EXR_SET,EXR_CNT)VALUES(011,24,'팔굽혀펴기',5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_nm,EXR_SET,EXR_CNT)VALUES(012,25,'팔굽혀펴기',5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_nm,EXR_SET,EXR_CNT)VALUES(012,26,'팔굽혀펴기',5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_nm,EXR_SET,EXR_CNT)VALUES(013,27,'팔굽혀펴기',5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_nm,EXR_SET,EXR_CNT)VALUES(013,28,'팔굽혀펴기',5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_nm,EXR_SET,EXR_CNT)VALUES(014,29,'팔굽혀펴기',5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_nm,EXR_SET,EXR_CNT)VALUES(014,30,'팔굽혀펴기',5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_nm,EXR_SET,EXR_CNT)VALUES(015,31,'팔굽혀펴기',5,10);
INSERT INTO EXERCISE(LOG_ID,EXR_ID,EXR_nm,EXR_SET,EXR_CNT)VALUES(015,32,'팔굽혀펴기',5,10);
SELECT * FROM MEMBER;
SELECT * FROM WORKOUTLOG;
SELECT * FROM EXERCISE;

SELECT
    M.MEM_ID,
    M.MEM_NM,
    M.MEM_DATE,
    WL.LOG_ID,
    WL.LOG_DATE,
    WL.LOG_INTIME,
    WL.LOG_OUTTIME,
    E.EXR_ID,
    E.EXR_SET,
    E.EXR_CNT
FROM MEMBER M
JOIN WORKOUTLOG WL ON M.MEM_ID = WL.MEM_ID
JOIN EXERCISE E ON WL.LOG_ID = E.LOG_ID;
